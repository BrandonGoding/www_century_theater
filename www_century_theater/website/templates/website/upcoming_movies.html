{% extends 'website/base.html' %}

{% block extra_css %}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.2/main.css">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.2/main.min.js"></script>

    <script type="text/javascript">

        document.addEventListener('DOMContentLoaded', function () {
            var calendarEl = document.getElementById('calendar');
            var calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                events: [
                    {% for movie in movies %}
                    { // this object will be "parsed" into an Event Object
                        title: '{{ movie }}{% if not movie.confirmed %} (Unconfirmed){% endif %}', // a property!
                        start: '{{ movie.open_date|date:"Y-m-d" }}', // a property!
                        end: '{{movie.last_day_for_calender|date:"Y-m-d" }}', // a property! ** see important note below about 'end' **
                        color: '{% if movie.confirmed %}darkgreen{% else %}darkblue{% endif %}',
                        borderColor: 'black'
                    },
                    {% endfor %}
                ]
            });
            calendar.render();
        });


    </script>

{% endblock %}

{% block content %}




    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div id='calendar'></div>
            </div>
        </div>
    </div>


{% endblock %}

{% block extra_js %}



{% endblock %}